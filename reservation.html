<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Raleway+Dots&display=swap" rel="stylesheet">
    

    <!-- Bootstrap CSS -->
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark custom-navbar">
    <div class="container">
      <a class="navbar-brand" href="index.html">Project24</a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainmenu">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="mainmenu">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">Welcome</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">Who am I?</a></li>
          <li class="nav-item"><a class="nav-link" href="gallery.html">My work</a></li>
          <li class="nav-item"><a class="nav-link active" aria-current="page" href="reservation.html">Book your session!</a></li>
          <li class="nav-item"><a class="nav-link" href="prices.html">Prices</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Keep in touch</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- BREADCRUMB -->
  <div class="container mt-3">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Welcome</a></li>
        <li class="breadcrumb-item active" aria-current="page">Book your session</li>
      </ol>
    </nav>
  </div>

  <!-- FORM CONTAINER -->
  <div class="container my-4">
    <h1 class="mb-4 text-center">Book your session</h1>
    <p class="text-center mb-4">
      Please fill in the form below so I can better understand your idea and contact you back.
    </p>

    <form class="row g-3">

      <!-- FIRST NAME -->
      <div class="col-md-6">
        <label for="firstName" class="form-label">First name *</label>
        <input type="text" class="form-control" id="firstName" placeholder="Jane" required>
      </div>

      <!-- LAST NAME -->
      <div class="col-md-6">
        <label for="lastName" class="form-label">Last name *</label>
        <input type="text" class="form-control" id="lastName" placeholder="Doe" required>
      </div>

      <!-- EMAIL -->
      <div class="col-md-6">
        <label for="email" class="form-label">E-mail *</label>
        <input
        type="email"
        class="form-control"
        id="email"
        name="email"
        required
        pattern="^[^@\s]+@[^@\s]+\.[^@\s]{2,}$"
        placeholder="your@email.com"
        title="Please enter a valid email address (e.g. name@example.com)">

      </div>

      <!-- PHONE (INPUT GROUP) -->
      <div class="col-md-6">
        <label for="phone" class="form-label">Phone number *</label>
        <div class="input-group">
          <span class="input-group-text">+420</span>
        <input
        type="tel"
        class="form-control"
        id="phone"
        name="phone"
        placeholder="123 456 789"
        maxlength="11"
        inputmode="numeric"
        required>
        </div>
      </div>

      <!-- DESIGN TYPE (CUSTOM vs FLASH) -->
      <div class="col-12">
        <label class="form-label d-block">Design type *</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="designType" id="designCustom" value="custom" required>
          <label class="form-check-label" for="designCustom">
            Custom design (based on your idea)
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="designType" id="designFlash" value="flash">
          <label class="form-check-label" for="designFlash">
            Choose from free flash designs
          </label>
        </div>
      </div>

<!-- FLASH FIELDS (ONLY FOR FLASH) -->
<div class="col-12 d-none" id="flashFields">
  <div class="row g-3">

<div class="col-md-6">
  <label for="flashSet" class="form-label">Flash collection</label>
  <select id="flashSet" class="form-select">
    <option value="" selected>Choose flash collection</option>
    <option value="dotwork">Dotwork</option>
    <option value="anaglyphs">Anaglyphs</option>
    <option value="geometry">Geometry</option>
  </select>
  <div class="form-text mt-1" id="flashChoiceText">
    Selected: <em>none</em>
  </div>
  <input type="hidden" id="selectedFlash" name="selectedFlash">
</div>

<div class="col-md-6">
  <!-- prázdný label = zarovnání -->
  <label class="form-label invisible">Flash picker</label>
  <button
    type="button"
    id="openFlashPicker"
    class="btn btn-dark px-4"
    data-bs-toggle="modal"
    data-bs-target="#flashPickerModal">
    Choose from collection
  </button>
</div>


  </div>
</div>



      <!-- TATTOO SIZE (SELECT) -->
      <div class="col-md-6">
        <label for="size" class="form-label">Estimated size *</label>
        <select id="size" class="form-select" required>
          <option value="" selected disabled>Choose...</option>
          <option value="small">Small (up to 5 cm)</option>
          <option value="medium">Medium (5–10 cm)</option>
          <option value="large">Large (10–20 cm)</option>
          <option value="xl">Extra large (full area)</option>
        </select>
      </div>

      <!-- PLACEMENT (TEXT) -->
      <div class="col-md-6">
        <label for="placement" class="form-label">Placement on body *</label>
        <input type="text" class="form-control" id="placement" placeholder="Left forearm, right thigh..." required>
      </div>

      <!-- PREFERRED DATE -->
      <div class="col-md-6">
        <div class="mb-3">
        <label for="date" class="form-label">Preferred date</label>
        <input 
          type="date" 
          class="form-control" 
          id="date" 
          name="date"
          required>
      </div>

      </div>

      <!-- TIME OF DAY (SELECT) -->
      <div class="col-md-6">
        <label for="time" class="form-label">Preferred time of day *</label>
        <select id="time" class="form-select" required>
          <option value="" selected disabled>Choose...</option>
          <option value="morning">Morning</option>
          <option value="afternoon">Afternoon</option>
          <option value="evening">Evening</option>
        </select>
      </div>

      <!-- CUSTOM DESIGN FIELDS (ONLY FOR CUSTOM) -->
      <div class="col-12 d-none" id="customFields">
        <div class="row g-3">

          <!-- PREFERRED STYLE -->
          <div class="col-12">
            <label class="form-label d-block">Preferred style *</label>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="styleRadio" id="styleDotwork" value="dotwork">
              <label class="form-check-label" for="styleDotwork">Dotwork</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="styleRadio" id="styleHandpoke" value="handpoke">
              <label class="form-check-label" for="styleHandpoke">Handpoke</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="styleRadio" id="styleMinimalist" value="minimalist">
              <label class="form-check-label" for="styleMinimalist">Minimalist</label>
            </div>
          </div>

          <!-- REFERENCE LINK -->
          <div class="col-12">
            <label for="reference" class="form-label">Reference link (optional)</label>
            <input type="url" class="form-control" id="reference" placeholder="Link to inspiration (Pinterest, Instagram…)">
          </div>

          <!-- CHECKBOX: OWN DESIGN -->
          <div class="col-12">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="ownDesign">
              <label class="form-check-label" for="ownDesign">
                I will bring my own design (or sketch).
              </label>
            </div>
          </div>

          <!-- DESCRIPTION (TEXTAREA) -->
          <div class="col-12">
            <label for="description" class="form-label">Describe your idea *</label>
            <textarea class="form-control" id="description" rows="4" placeholder="Tell me more about your idea, style, symbolism…"></textarea>
          </div>
        </div>
      </div>

      <!-- CHECKBOX: CONSENT -->
      <div class="col-12">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="consent" required>
          <label class="form-check-label" for="consent">
            I agree that my personal data will be used for the purpose of contacting me about this reservation.
          </label>
        </div>
      </div>

      <!-- SUBMIT BUTTON -->
      <div class="col-12 text-center mt-3">
        <button type="submit" class="btn btn-dark px-5">
          Book session
        </button>
      </div>

    </form>
  </div>

  <!-- JS: toggle custom / flash fields -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const designCustom = document.getElementById('designCustom');
      const designFlash = document.getElementById('designFlash');
      const customFields = document.getElementById('customFields');
      const flashFields = document.getElementById('flashFields');

      function updateDesignFields() {
        if (designFlash.checked) {
          flashFields.classList.remove('d-none');
          customFields.classList.add('d-none');

          // při flashu odznač preferred style
          document.querySelectorAll('input[name="styleRadio"]').forEach(el => el.checked = false);
        } else if (designCustom.checked) {
          customFields.classList.remove('d-none');
          flashFields.classList.add('d-none');
        } else {
          customFields.classList.add('d-none');
          flashFields.classList.add('d-none');
        }
      }

      if (designCustom && designFlash) {
        designCustom.addEventListener('change', updateDesignFields);
        designFlash.addEventListener('change', updateDesignFields);
        updateDesignFields();
      }
    });
  </script>

  <script>
    const dateInput = document.getElementById("date");

    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth() + 1).padStart(2, '0');
    const dd = String(today.getDate()).padStart(2, '0');

    const formattedToday = `${yyyy}-${mm}-${dd}`;
    dateInput.min = formattedToday;
  </script>

  <script>
    const phoneInput = document.getElementById('phone');

    phoneInput.addEventListener('input', function () {
      // odstraní všechno kromě číslic
      let numbers = this.value.replace(/\D/g, '');

      // max 9 číslic
      numbers = numbers.substring(0, 9);

      // rozdělí do bloků 3–3–3
      let formatted = numbers;

      if (numbers.length > 3 && numbers.length <= 6) {
        formatted = numbers.slice(0, 3) + ' ' + numbers.slice(3);
      } else if (numbers.length > 6) {
        formatted =
          numbers.slice(0, 3) + ' ' +
          numbers.slice(3, 6) + ' ' +
          numbers.slice(6);
      }

      this.value = formatted;
    });
  </script>

<!-- FLASH PICKER MODAL -->
<div class="modal fade" id="flashPickerModal" tabindex="-1" aria-labelledby="flashPickerModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="flashPickerModalLabel">Choose flash</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <p class="mb-3 text-muted" id="flashHint">Pick a collection first.</p>
        <div class="row g-3" id="flashGrid"></div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Cancel</button>
        <button type="button" id="useSelectedFlash" class="btn btn-dark" disabled>Use selected</button>
      </div>
    </div>
  </div>
</div>

<script>
  // --- data: cesty k obrázkům podle kategorií ---
  const FLASHES = {
    dotwork: [
      'img/flashes/flash_pipette.jpg',
      'img/flashes/flash_car.jpg',
      'img/flashes/flash_drink.jpg',
      'img/flashes/flash_firefly.jpg',
      'img/flashes/flash_inferno.jpg',
      'img/flashes/flash_mountains.jpg',
      'img/flashes/flash_onion.jpg',
      'img/flashes/flash_pumpkin.jpg',
      'img/flashes/flash_scream.jpg',
      'img/flashes/flash_seahorse.jpg',
      'img/flashes/flash_shell.jpg',
      'img/flashes/flash_shirt.jpg'
    ],
    anaglyphs: [
      'img/flashes/flash_3D_columns.jpg' // ← případně přejmenuj na přesný název v repo
    ],
    geometry: [
      // až budeš mít geometry flashe, doplň sem cesty
    ]
  };

  // --- elementy ---
  const flashSet = document.getElementById('flashSet');
  const flashGrid = document.getElementById('flashGrid');
  const flashHint = document.getElementById('flashHint');
  const useBtn = document.getElementById('useSelectedFlash');
  const choiceText = document.getElementById('flashChoiceText');
  const hiddenSelected = document.getElementById('selectedFlash');

  let currentSelected = ''; // path vybraného obrázku

  // vygeneruje grid podle zvolené kolekce
  function renderFlashGrid(category) {
    flashGrid.innerHTML = '';
    currentSelected = '';
    useBtn.disabled = true;

    const list = FLASHES[category] || [];
    document.getElementById('flashPickerModalLabel').textContent =
      category ? `Choose flash – ${category.charAt(0).toUpperCase() + category.slice(1)}` : 'Choose flash';

    if (!category) {
      flashHint.textContent = 'Pick a collection first.';
      return;
    }

    if (list.length === 0) {
      flashHint.textContent = 'No flashes in this collection yet.';
      return;
    }

    flashHint.textContent = 'Click an image to select.';
    list.forEach((src, i) => {
      const col = document.createElement('div');
      col.className = 'col-6 col-md-4 col-lg-3';

      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'btn p-0 border-0 w-100';

      const wrap = document.createElement('div');
      wrap.className = 'ratio ratio-1x1 flash-option';
      wrap.dataset.src = src;
      wrap.title = src.split('/').pop(); // tooltip = název souboru

      const img = document.createElement('img');
      img.src = src;
      img.alt = 'flash';
      img.className = 'w-100 h-100 object-fit-cover rounded';

      wrap.appendChild(img);
      btn.appendChild(wrap);
      col.appendChild(btn);
      flashGrid.appendChild(col);

      // click handler – označení vybraného
      btn.addEventListener('click', () => {
        flashGrid.querySelectorAll('.flash-option').forEach(el => el.classList.remove('selected'));
        wrap.classList.add('selected');
        currentSelected = src;
        useBtn.disabled = false;
      });
    });
  }

  // otevření modalu – vyrenderuj dle aktuálního selectu
  const flashPickerModal = document.getElementById('flashPickerModal');
  flashPickerModal.addEventListener('show.bs.modal', () => {
    renderFlashGrid(flashSet.value || '');
  });

  // změna kolekce, když je modal otevřený → přegeneruj
  flashSet.addEventListener('change', () => {
    if (flashPickerModal.classList.contains('show')) {
      renderFlashGrid(flashSet.value || '');
    }
  });

  // potvrzení výběru
  useBtn.addEventListener('click', () => {
    if (!currentSelected) return;
    hiddenSelected.value = currentSelected;
    choiceText.innerHTML = 'Selected: <code>' + currentSelected.split('/').pop() + '</code>';
    const modal = bootstrap.Modal.getInstance(flashPickerModal);
    modal.hide();
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const flashSet = document.getElementById('flashSet');
    const openBtn = document.getElementById('openFlashPicker');

    if (!flashSet || !openBtn) return;

    function updateFlashButtonState() {
      openBtn.disabled = !flashSet.value; // bez kolekce je tlačítko disabled
    }

    flashSet.addEventListener('change', updateFlashButtonState);
    updateFlashButtonState();
  });
</script>



  <!-- Bootstrap JS -->
  <script 
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
  </script>
</body>
</html>
